<!DOCTYPE html>
<html lang="en" >

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Environment Diagrams - COMP110 - 22S</title>
    <link rel="icon" type="image/png" href="/static/tabbrand.png" />
    <link rel="stylesheet" href="/static/bootstrap.min.css">
    <link rel="stylesheet" href="/static/style.css?v=1645710294.2649262">
    <script src="/static/scripts/scroll-handler.js"></script>
    <script src="/static/scripts/sunset_sunrise.js"></script>

</head>

<body class="scrolling-page" >
    <script>
        const lat = 35.912005; // latitude and longitude for Chapel Hill
        const long = -79.051210; // Replace with some way to gain User location if/when desired
    </script>
    <script>
        // resets user pref in the event of styling overhaul
        if ((localStorage.getItem('mode') == "halloween-mode") || (localStorage.getItem('userPref') == "halloween-mode")) {
            localStorage.setItem('userPref', null);
            localStorage.setItem('mode', null);
        }
    
        var datetime = new Date(); // NOTE: This is my additional scripting to check whereabouts the sun is
        var time = datetime.getHours() + (datetime.getMinutes() / 60);
        var timer = 240000000; // a very big number
        if(localStorage.getItem('userPref') === null) {
            if(time < getSunrise(lat, long)) {
                localStorage.setItem('mode', 'dark-mode');
                timer = getSunrise(lat, long) - time;
            } else if(time > getSunset(lat, long)) {
                localStorage.setItem('mode', 'dark-mode');
                timer = (getSunrise(lat, long) + 24) - time;
            } else {
                localStorage.setItem('mode', 'light-mode');
                timer = getSunset(lat, long) - time;
            }
        }
    </script>
    <script>
        document.body.classList.remove('light-mode');
        document.body.classList.remove('dark-mode');
        document.body.classList.add(localStorage.getItem('userPref')); // userPref holds which mode the user prefers
        document.body.classList.add(localStorage.getItem('mode')); // mode holds the current state of the site
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <a name="top"></a>
    <div id="page-container">
    <div id="content-wrapper">
    <div class="wrapper">
        <nav id="navbarStick" class="navbar navbar-scroll navbar-expand">
            <div class="container-fluid">
                <div class = 'show-during-scroll'>
                <div class="container nav-const">
                    <a class="navbar-brand" href="/"><img class="lightmode-element-only img-fluid logo" src="/static/lightbrand.png"
                                alt="COMP110 - Spring - 2021"><img class="darkmode-element-only img-fluid logo" src="/static/darkbrand.png"
                                alt="COMP110 - Spring - 2021"></a>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link nav-link-small" onClick="window.scroll({top: 0, left: 0, behavior: 'smooth'});"> back to top </a>
                            </li>
                        </ul>
                    </div>
                </div>  
                </div>
                <div class = 'hide-during-scroll'>
                    <div class="container nav-const">
                        <div class="collapse navbar-collapse" id="navbarNav">
                        <a class="navbar-brand web" href="/"><img class="lightmode-element-only img-fluid logo img-responsive" src="/static/lightbrand.png"
                        alt="COMP110 - Spring - 2021"><img class="darkmode-element-only img-fluid logo img-responsive" src="/static/darkbrand.png"
                        alt="COMP110 - Spring - 2021"></a>
                        <ul class="navbar-nav web">
                            <li class="nav-item">
                                <a class="nav-link" href="/resources">resources</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/lessons-page">lessons</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/topics">topics</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/support">support</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/explore">explore</a>
                            </li>
                        </ul>
                            <a href="javascript:void(0);" class="icon" id="hamburger">
                                <i class="fa fa-bars fa-lg"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div id='mode-switch' class="ms-auto form-check form-switch mode switches">
                    <div class="switches">
                        <input type="checkbox" id="1" onclick="
                            if (localStorage.getItem('mode') === 'dark-mode') {
                                localStorage.setItem('userPref', 'light-mode');
                                localStorage.setItem('mode', 'light-mode');
                            } else {
                                localStorage.setItem('userPref', 'dark-mode');
                                localStorage.setItem('mode', 'dark-mode');
                            }
                            location.reload();">
                        <label for="1">
                            <span id="mode-label">Dark Mode</span>
                            <span></span>
                        </label>
                        <script>if(localStorage.getItem('mode') === 'dark-mode'){document.getElementById("1").checked = true}</script>
                        <script>if(localStorage.getItem('userPref') === null) {setTimeout(function(){location.reload();}, (timer * 3600000));}</script>
                    </div>
                </div>
            </div>
            <a class="navbar-brand mobile brand-left" href="/"><img class="lightmode-element-only img-fluid logo" src="/static/lightbrand.png"
                alt="COMP110 - Spring - 2021"><img class="darkmode-element-only img-fluid logo" src="/static/darkbrand.png"
                alt="COMP110 - Spring - 2021">
            </a>
        </nav>
        <ul class="navbar-nav mobile menu-dropdown base-nav-dropdown" id="mobile">
            <li class="nav-item" id="link1">
                <a class="nav-link" href="/">home</a>
            </li>
            <li class="nav-item" id="link2">
                <a class="nav-link" href="/resources">resources</a>
            </li>
            <li class="nav-item" id="link3">
                <a class="nav-link" href="/lessons-page">lessons</a>
            </li>
            <li class="nav-item" id="link4">
                <a class="nav-link" href="/topics">topics</a>
            </li>
            <li class="nav-item" id="link5">
                <a class="nav-link" href="/support">support</a>
            </li>
             <li class="nav-item" id="last-link">
                <a class="nav-link" href="/explore">explore</a>
            </li>
        </ul>

        <script>
            document.getElementById("hamburger").addEventListener("click", function() {
            var x = [];
            x[0] = document.getElementById("link1");
            x[1] = document.getElementById("link2");
            x[2] = document.getElementById("link3");
            x[3] = document.getElementById("link4");
            x[4] = document.getElementById("link5");
            x[5] = document.getElementById("last-link");
            for (let i = 0; i < 6; i++) {
                if (x[i].style.display === "block") {
                    x[i].style.display = "none";
                    document.getElementById("mobile").style.paddingTop="0";
                    document.getElementById("mobile").style.paddingBottom="0";
                } else {
                    x[i].style.display = "block";
                }
            }
            });
        </script>

        <div id="resource-page" class="container">
            <div class="row pt-4">


                <div class="col-12">
                    <h1 class="display-5">Environment Diagrams</h1>
                    <hr class="title"/>
                </div>
            </div>

    <script src="/static/scripts/toggle-handler.js"></script>
    
    <div class="row px-4">
    
        <div id="box" class="toc col-xl-3 col-lg-3 order-1 order-lg-2" role="doc-toc">
            
            <div id="button-box class="link-pag box">
            </div>

            <div id="menu-overview" class="link-page box">
                <button id="overview-button" class="btn btn-ov" onclick="hideshow()">Overview<img id="button-img" class="filter-icon" src="/static/components/Itinerary/arrow-right.png" style="height:15px;"></button>
                <div id="overview-links">
                    <div id="TOC" role="doc-toc">
                        <ul><li><a href="#environment-diagrams-101">Environment Diagrams 101</a><ul>
<li><a href="#what-is-an-environment-diagram">What is an environment diagram?</a></li>
<li><a href="#how-to-use-an-environment-diagram">How to use an environment diagram:</a></li>
<li><a href="#important-vocabulary-review">Important Vocabulary Review</a></li>
</ul></li>
<li><a href="#environment-diagram-practice">Environment Diagram Practice</a><ul>
<li><a href="#ex01-classes">EX01: Classes</a></li>
<li><a href="#ex02-linked-lists">EX02: Linked Lists</a></li>
<li><a href="#ex03-recursion">EX03: Recursion</a></li>
</ul></li>
</ul>
</</ul>
                    </div>
                </div>
            </div>
        </div>

        <div id="content" class="content col-xl-9 col-lg-9 order-2 order-lg-1"><h2 id="environment-diagrams-101">Environment Diagrams 101</h2>
<h3 id="what-is-an-environment-diagram">What is an environment diagram?</h3>
<ul>
<li>Environment diagrams are a visual aid that help us to trace through the execution of a program and keep track of the information we have stored on the stack and the heap at any given point!</li>
</ul>
<h3 id="how-to-use-an-environment-diagram">How to use an environment diagram:</h3>
<ol type="1">
<li>First, we need to get all set up! Add columns for the stack, the heap, and the programs output.
<ul>
<li>Reminder:
<ul>
<li>The <strong>stack</strong> is the program’s “working space.” It consists of a bunch of ‘frames’ that will correspond with each function call. The stack is specifically ordered and follows the same structure as your function calls!</li>
<li>The <strong>heap</strong> is essentially dynamic memory. Variables that are reference types such as lists and objects live here!</li>
</ul></li>
</ul></li>
<li>Add the globals frame to the call stack. This is always going to be your first frame on the stack and will hold <strong>function definitions</strong> and any <strong>global variables</strong>.
<ul>
<li>For <strong>function definitions</strong>, write the name of the function in the globals frame and draw an arrow to the corresponding function object on the heap labeled: <strong>Fn: [start line] - [end line]</strong>.</li>
<li>Remember: <strong>global variables</strong> are any variables defined outside of any context such as a function definition. If the variable isn’t in the body of a function, it belongs here!</li>
</ul></li>
<li>Next, we have to deal with our first <strong>function call</strong>: the call to <strong>main</strong>! Remember, anytime a function is called it gets a frame on the stack that includes the following:
<ul>
<li>The name of the function</li>
<li>The <strong>return address</strong>, or RA. This is the line where this function call was invoked and tells us where to return the function’s return value when its execution is complete.</li>
<li>The <strong>return value</strong> of the function.</li>
<li>Any <strong>parameters</strong> or <strong>local variables</strong> defined within that function.
<ul>
<li>Remember: Any reference types will live on the heap. To deal with this, we write the variable name in the frame on the stack and then point, or refer to, the data on the heap!</li>
</ul></li>
</ul></li>
<li>Rinse and repeat! Anytime a new function is called, give it a frame on the stack and track all of it’s important information! This way, the next time you are unsure what a variables value is, you have all the information you need right in front of you!</li>
</ol>
<h3 id="important-vocabulary-review">Important Vocabulary Review</h3>
<p>Wow, that’s a lot of new vocab to remember! Below is a list of commonly used terms when talking about environment diagrams. Feel free to reference it anytime you find yourself getting confused!</p>
<ul>
<li><strong>Stack</strong>: The program’s “working space.” It consists of a bunch of ‘frames’ that will correspond with each function call. The stack is specifically ordered and follows the same structure as your function calls!</li>
<li><strong>Heap</strong>: Dynamic memory! Variables that are reference types such as lists and objects live here!</li>
<li><strong>Global Variables</strong>: Variables defined outside of any context such as a function definition</li>
<li><strong>Return Address</strong>: This is the line where this function call was invoked. It tells us where to return the function’s return value when its execution is complete.</li>
<li><strong>Return Value</strong>: The value that is returned from a function call.</li>
<li><strong>Current Frame</strong>: The most recently added frame that has not returned. (No RV!)</li>
<li><strong>Name Resolution</strong>: The process of retrieving the value of a variable. A good rule of thumb for this is to look for name in the current frame. Not there? Check Globals frame!</li>
</ul>
<h2 id="environment-diagram-practice">Environment Diagram Practice</h2>
<p>Below are optional practice problems for drawing environment diagrams. Try tracing through the code blocks using the rules listed above!</p>
<h3 id="ex01-classes">EX01: Classes</h3>
<p><img src="/static/assets/env-diagrams/code-blocks/env-classes.PNG" /></p>
<h4 id="solution">Solution:</h4>
<p><img src="/static/assets/env-diagrams/diagrams/classes-solution.png" /></p>
<h3 id="ex02-linked-lists">EX02: Linked Lists</h3>
<p><img src="/static/assets/env-diagrams/code-blocks/env-linked-list.PNG" /></p>
<h4 id="solution-1">Solution:</h4>
<p><img src="/static/assets/env-diagrams/diagrams/recursion-solution.png" /></p>
<h3 id="ex03-recursion">EX03: Recursion</h3>
<p><img src="/static/assets/env-diagrams/code-blocks/env-recursion.PNG" /></p>
<h4 id="solution-2">Solution:</h4>
<p><img src="/static/assets/env-diagrams/diagrams/linked-list-solution.png" /></p>
<p>Still looking for more practice? Check out the Environment Diagram Practice page in resources!</p>
</div>

    </div> 

            <div class="authors-box">
                <span> Contributor(s): Tori Hoffmann</span>
            </div>
            
            <div class='link-page wrapper'>
            <footer>
                    <p class="footer-content">&copy; 2021 <a href="https://krisjordan.com">Kris Jordan</a>
                        - <a
                            href="https://docs.google.com/forms/d/e/1FAIpQLScQMteEvnQpBfGsAYP5TpuqokQenhZUIf8CNvfAUUZEjMCWZQ/viewform?usp=sf_link">Feedback
                            Form</a> - <a href="https://forms.gle/AjcyFHirwegBKXbq9">Grievances Form</a> - Made with 💛in <a href="https://cs.unc.edu/">Chapel Hill</a></p>
                </footer>
            </div>
        </div>
    </div>
    </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js"
        integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.26.0/moment.min.js"
        integrity="sha256-5oApc/wMda1ntIEK4qoWJ4YItnV4fBHMwywunj8gPqc=" crossorigin="anonymous"></script>
    <script src="/static/script.js"></script>

</body>

</html>